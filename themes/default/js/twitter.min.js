/**
 * Twitter JS v1.12
 * http://code.google.com/p/twitterjs/
 * Copyright (c) 2009 Remy Sharp / MIT License
 * $Date: 2009-02-25 14:43:36 +0000 (Wed, 25 Feb 2009) $
 */
if(typeof renderTwitters!='function')(function(){var browser=(function(){var a=navigator.userAgent.toLowerCase();return{safari:/webkit/.test(a),opera:/opera/.test(a),msie:/msie/.test(a)&&!(/opera/).test(a),mozilla:/mozilla/.test(a)&&!(/(compatible|webkit)/).test(a)}})();var guid=0;var readyList=[];var isReady=false;window.renderTwitters=function(c,g){function h(a){return document.createElement(a)}function l(a){return document.createTextNode(a)}var b=document.getElementById(g.twitterTarget);var p=null;var m=h('ul'),j,k,n,f,i=c.length>g.count?g.count:c.length;for(f=0;f<i&&c[f];f++){p=getTwitterData(c[f]);if(g.ignoreReplies&&c[f].text.substr(0,1)=='@'){i++;continue}j=h('li');if(g.template){j.innerHTML=g.template.replace(/%([a-z_\-\.]*)%/ig,function(a,d){var e=p[d]+""||"";if(d=='text'&&g.enableLinks)e=linkify(e);return e})}else{k=h('span');k.className='twitterStatus';n=h('span');n.className='twitterTime';k.innerHTML=c[f].text;if(g.enableLinks==true){k.innerHTML=linkify(k.innerHTML)}n.innerHTML=relative_time(c[f].created_at);if(g.prefix){var o=h('span');o.className='twitterPrefix';o.innerHTML=g.prefix.replace(/%(.*?)%/g,function(a,d){return c[f].user[d]});j.appendChild(o);j.appendChild(l(' '))}j.appendChild(k);j.appendChild(l(' '));j.appendChild(n)}m.appendChild(j)}if(g.clearContents){while(b.firstChild){b.removeChild(b.firstChild)}}b.appendChild(m)};window.getTwitters=function(g,h,l,b){guid++;if(typeof h=='object'){b=h;h=b.id;l=b.count}if(!l)l=1;if(b){b.count=l}else{b={}}if(!b.timeout&&typeof b.onTimeout=='function'){b.timeout=10}if(typeof b.clearContents=='undefined'){b.clearContents=true}if(b.withFriends)b.withFriends=false;b['twitterTarget']=g;if(typeof b.enableLinks=='undefined')b.enableLinks=true;window['twitterCallback'+guid]=function(a){if(b.timeout){clearTimeout(window['twitterTimeout'+guid])}renderTwitters(a,b)};ready((function(e,c){return function(){if(!document.getElementById(e.twitterTarget)){return}var a='http://www.twitter.com/statuses/'+(e.withFriends?'friends_timeline':'user_timeline')+'/'+h+'.json?callback=twitterCallback'+c+'&count=20';if(e.timeout){window['twitterTimeout'+c]=setTimeout(function(){if(e.onTimeoutCancel)window['twitterCallback'+c]=function(){};e.onTimeout.call(document.getElementById(e.twitterTarget))},e.timeout*1000)}var d=document.createElement('script');d.setAttribute('src',a);document.getElementsByTagName('head')[0].appendChild(d)}})(b,guid))};DOMReady();function getTwitterData(a){var d=a,e;for(e in a.user){d['user_'+e]=a.user[e]}d.time=relative_time(a.created_at);return d}function ready(a){if(!isReady){readyList.push(a)}else{a.call()}}function fireReady(){isReady=true;var a;while(a=readyList.shift()){a.call()}}function DOMReady(){if(browser.mozilla||browser.opera){document.addEventListener("DOMContentLoaded",fireReady,false)}else if(browser.msie){document.write("<script id=__ie_init defer=true src=//:><\/script>");var a=document.getElementById("__ie_init");if(a){a.onreadystatechange=function(){if(this.readyState!="complete")return;this.parentNode.removeChild(this);fireReady.call()}}a=null}else if(browser.safari){var d=setInterval(function(){if(document.readyState=="loaded"||document.readyState=="complete"){clearInterval(d);d=null;fireReady.call()}},10)}}function relative_time(p){var m=p.split(" "),j=Date.parse(m[1]+" "+m[2]+", "+m[5]+" "+m[3]),k=new Date(j),n=(arguments.length>1)?arguments[1]:new Date(),f=parseInt((n.getTime()-j)/1000),i='';function o(a){var d=a.getHours(),e=a.getMinutes()+"",c='AM';if(d==0){d=12}else if(d>12){d-=12;c='PM'}if(e.length==1){e='0'+e}return d+':'+e+' '+c}function q(a){var d=a.toDateString().split(/ /),e=d[1],c=d[2],g=parseInt(c),h=a.getFullYear(),l=(new Date()).getFullYear(),b='th';if((g%10)==1&&c.substr(0,1)!='1'){b='st'}else if((g%10)==2&&c.substr(0,1)!='1'){b='nd'}else if((g%10)==3&&c.substr(0,1)!='1'){b='rd'}if(c.substr(0,1)=='0'){c=c.substr(1)}return e+' '+c+b+(l!=h?', '+h:'')}f=f+(n.getTimezoneOffset()*60);if(f<5){i='less than 5 seconds ago'}else if(f<30){i='half a minute ago'}else if(f<60){i='less than a minute ago'}else if(f<120){i='1 minute ago'}else if(f<(45*60)){i=(parseInt(f/60)).toString()+' minutes ago'}else if(f<(2*90*60)){i='about 1 hour ago'}else if(f<(24*60*60)){i='about '+(parseInt(f/3600)).toString()+' hours ago'}else{if(f<(48*60*60)){i=o(k)+' yesterday'}else{i=o(k)+' '+q(k)}}return i}function linkify(c){var g={'"':'&quot;','&':'&amp;','<':'&lt;','>':'&gt;'};return c.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/g,function(a){return a.link(a)}).replace(/(^|[^\w])(@[\d\w\-]+)/g,function(a,d,e){return d+'@<a href="http://twitter.com/'+e.substr(1)+'">'+e.substr(1)+'</a>'}).replace(/"&<>/,function(a){return g[a]})}})();
